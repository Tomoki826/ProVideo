{% if data['max_page'] >= 2 %}
<form id="page_form" action="{{ url_for('search') }}" method="GET">
<!--キーワード-->
<input type="hidden" name="keywords" value="{{ data['keywords'] }}">
<!--検索タイプ-->
<input type="hidden" name="search_type" value="{{ data['search_type'] }}">
<!--ページ番号-->
<div id="page_container">
    <!--少ないページ数のとき-->
    <div id="page_line">
    {% if data['max_page'] <= 9 %}
        {% with page_range = data['max_page'] + 1 %}
        {% for i in range(1, page_range) %}
            {% if i == data['current_page'] %}
                <div id="current_page">{{ i }}</div>
            {% else %}
                <div id="pages"><button name="page" value="{{ i }}">{{ i }}</button></div>
            {% endif %}
        {% endfor %}
        {% endwith %}
    {% else %}
    <!--多いページ数のとき-->
        {% with page_value = data['max_page'] - 4 %}
        {% if data['current_page'] <= 5 %}
            {% for i in range(1, 8) %}
                {% if i == data['current_page'] %}
                    <div id="current_page">{{ i }}</div>
                {% else %}
                    <div id="pages"><button name="page" value="{{ i }}">{{ i }}</button></div>
                {% endif %}
            {% endfor %}
            <div id="dots">…</div>
            <div id="pages"><button name="page" value="{{ data['max_page'] }}">{{ data['max_page'] }}</button></div>
        {% elif page_value <= data['current_page'] %}
            <div id="pages"><button name="page" value="1">1</button></div>
            <div id="dots">…</div>
            {% for i in range(7) %}
                {% with page_value2 = data['max_page'] + i - 6 %}
                    {% if page_value2 == data['current_page'] %}
                        <div id="current_page">{{ page_value2 }}</div>
                    {% else %}
                        <div id="pages"><button name="page" value="{{ page_value2 }}">{{ page_value2 }}</button></div>
                    {% endif %}
                {% endwith %}
            {% endfor %}        
        {% else %}
            <div id="pages"><button name="page" value="1">1</button></div>
            <div id="dots">…</div>
            {% for i in range(5) %}
                {% with page_value2 = data['current_page'] + i - 2 %}
                    {% if page_value2 == data['current_page'] %}
                        <div id="current_page">{{ page_value2 }}</div>
                    {% else %}
                        <div id="pages"><button name="page" value="{{ page_value2 }}">{{ page_value2 }}</button></div>
                    {% endif %}
                {% endwith %}
            {% endfor %}
            <div id="dots">…</div>
            <div id="pages"><button name="page" value="{{ data['max_page'] }}">{{ data['max_page'] }}</button></div>
        {% endif %}
        {% endwith %}
    {% endif %}
    </div>
</div>
</form>
{% endif %}